{"ast":null,"code":"const axios = require(\"axios\");\n\nexport default {\n  name: \"CrudComment\",\n  props: [\"idPost\", \"comment\", \"user_id\", \"post_id\"],\n\n  data() {\n    return {\n      comments: {}\n    };\n  },\n\n  async mounted() {\n    const getComments = async () => {\n      try {\n        const resp = axios.get(\"http://localhost:8000/api/comments/\" + this.$route.params.id, {}).then(response => {\n          console.log(this.idPost);\n          this.comments = response.data;\n          console.log(response.data);\n        }).catch(error => {\n          console.log(error);\n        });\n      } catch (err) {\n        Console.error(err);\n      }\n    };\n\n    getComments();\n  },\n\n  methods: {\n    getComment() {\n      axios.get(\"http://localhost:8000/api/comments/\").then(response => {\n        console.log(response);\n        this.comments = response.data;\n      });\n    },\n\n    deleteCom(comment) {\n      console.log(comment);\n\n      if (confirm(\"Supprimer ce commentaire ?\")) {\n        axios.delete(\"http://localhost:8000/api/comments/\" + comment.id, {}).then(response => {\n          console.log(this.id);\n          this.comments = response.data;\n          console.log(response.data);\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgCA,MAAMA,KAAI,GAAIC,OAAO,CAAC,OAAD,CAArB;;AACA,eAAe;AACbC,MAAI,EAAE,aADO;AAEbC,OAAK,EAAE,CAAC,QAAD,EAAW,SAAX,EAAsB,SAAtB,EAAiC,SAAjC,CAFM;;AAGbC,MAAI,GAAG;AACH,WAAO;AACLC,cAAQ,EAAE;AADL,KAAP;AAGD,GAPU;;AAQb,QAAMC,OAAN,GAAgB;AACd,UAAMC,WAAU,GAAI,YAAY;AAC9B,UAAI;AACF,cAAMC,IAAG,GAAIR,KAAI,CACdS,GADU,CAET,wCAAwC,KAAKC,MAAL,CAAYC,MAAZ,CAAmBC,EAFlD,EAGT,EAHS,EAKVC,IALU,CAKJC,QAAD,IAAc;AAClBC,iBAAO,CAACC,GAAR,CAAY,KAAKC,MAAjB;AACA,eAAKZ,QAAL,GAAgBS,QAAQ,CAACV,IAAzB;AACAW,iBAAO,CAACC,GAAR,CAAYF,QAAQ,CAACV,IAArB;AACD,SATU,EAUVc,KAVU,CAUHC,KAAD,IAAW;AAChBJ,iBAAO,CAACC,GAAR,CAAYG,KAAZ;AACD,SAZU,CAAb;AAaF,OAdA,CAcE,OAAOC,GAAP,EAAY;AACZC,eAAO,CAACF,KAAR,CAAcC,GAAd;AACF;AACD,KAlBD;;AAmBAb,eAAW;AACZ,GA7BY;;AA8Bbe,SAAO,EAAE;AACPC,cAAU,GAAE;AAACvB,WAAI,CACVS,GADM,CACF,qCADE,EAENI,IAFM,CAEAC,QAAD,IAAc;AAClBC,eAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,aAAKT,QAAL,GAAgBS,QAAQ,CAACV,IAAzB;AACD,OALM;AAMZ,KAPM;;AAQPoB,aAAS,CAACC,OAAD,EAAU;AACjBV,aAAO,CAACC,GAAR,CAAYS,OAAZ;;AACD,UAAGC,OAAO,CAAC,4BAAD,CAAV,EAA0C;AAAE1B,aAAK,CAAC2B,MAAN,CAAa,wCAAwCF,OAAO,CAACb,EAA7D,EAAiE,EAAjE,EAC5CC,IAD4C,CACtCC,QAAD,IAAc;AACZC,iBAAO,CAACC,GAAR,CAAY,KAAKJ,EAAjB;AACA,eAAKP,QAAL,GAAgBS,QAAQ,CAACV,IAAzB;AACAW,iBAAO,CAACC,GAAR,CAAYF,QAAQ,CAACV,IAArB;AACD,SALsC,EAMtCc,KANsC,CAM/BC,KAAD,IAAW;AAChBJ,iBAAO,CAACC,GAAR,CAAYG,KAAZ;AACD,SARsC;AASvC;AACJ;;AApBK;AA9BI,CAAf","names":["axios","require","name","props","data","comments","mounted","getComments","resp","get","$route","params","id","then","response","console","log","idPost","catch","error","err","Console","methods","getComment","deleteCom","comment","confirm","delete"],"sourceRoot":"","sources":["/home/fanny/Rendu2/C-COD-280-PAR-2-2-dashboard-vladimira.grosjean/Dashboard2/src/components/CrudComment.vue"],"sourcesContent":["\r\n\r\n<template>\r\n   <section class=\"border-bottom mb-3\">\r\n       <p class=\"text-center\"><strong>Comments</strong></p>\r\n\r\n        <div v-for=\"comment in comments\" :key=\"comment.id\" class=\"row card mb-4\">\r\n            <div class=\"card-body\">\r\n              <span class=\"card-comment\">\r\n              {{comment.comment}} \r\n              </span>\r\n            </div>\r\n             <span class=\"commentDate\">\r\n                {{comment.created_at.substr(0, 10)}}\r\n                </span>\r\n                <div>\r\n          <button\r\n            v-on:click.prevent=\"deleteCom(comment)\"\r\n            href=\"#\"\r\n            type=\"button\"\r\n            id=\"crud\"\r\n            class=\"btn btn-outline-dark\"\r\n          >\r\n            Supprimer\r\n          </button>\r\n        </div>\r\n        </div>\r\n\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nconst axios = require(\"axios\");\r\nexport default {\r\n  name: \"CrudComment\",\r\n  props: [\"idPost\", \"comment\", \"user_id\", \"post_id\"],\r\n  data() {\r\n      return {\r\n        comments: {},\r\n      };\r\n    },\r\n  async mounted() {\r\n    const getComments = async () => {\r\n      try {\r\n        const resp = axios\r\n          .get(\r\n            \"http://localhost:8000/api/comments/\" + this.$route.params.id,\r\n            {}\r\n          )\r\n          .then((response) => {\r\n            console.log(this.idPost);\r\n            this.comments = response.data;\r\n            console.log(response.data);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      } catch (err) {\r\n        Console.error(err);\r\n      }\r\n    };\r\n    getComments();\r\n  },\r\n  methods: {\r\n    getComment(){axios\r\n          .get(\"http://localhost:8000/api/comments/\")\r\n          .then((response) => {\r\n            console.log(response)\r\n            this.comments = response.data\r\n          })\r\n    },\r\n    deleteCom(comment) { \r\n      console.log(comment);\r\n     if(confirm(\"Supprimer ce commentaire ?\")) { axios.delete(\"http://localhost:8000/api/comments/\" + comment.id, {})\r\n    .then((response) => {\r\n            console.log(this.id);\r\n            this.comments = response.data;\r\n            console.log(response.data);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n          }\r\n      }\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#crud {\r\n  margin-right: 5px;\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n\r\n"]},"metadata":{},"sourceType":"module"}