{"ast":null,"code":"import NavBar from \"@/components/NavBar.vue\";\nimport Footer from \"@/components/Footer.vue\";\n\nconst axios = require(\"axios\");\n\nexport default {\n  name: \"CrudPosts\",\n  components: {\n    NavBar,\n    Footer\n  },\n  props: [\"title\", \"category_id\", \"idPost\", \"content\", \"created_at\", \"img_post\", \"comment\", \"user_id\", \"post_id\"],\n\n  data() {\n    return {\n      posts: \"\"\n    };\n  },\n\n  mounted() {\n    axios.get(\"http://localhost:8000/api/posts\").then(response => {\n      // console.log(response.data);\n      this.posts = response.data;\n    }).catch(error => {\n      console.log(error);\n    });\n  },\n\n  methods: {\n    getPost() {\n      axios.get(\"http://localhost:8000/api/posts/\").then(response => {\n        console.log(response);\n        this.posts = response.data;\n      });\n    },\n\n    deletePost(post) {\n      console.log(post);\n\n      if (confirm(\"Supprimer ce post ?\")) {\n        axios.delete(\"http://localhost:8000/api/posts/\" + post.id, {}).then(response => {\n          console.log(this.id);\n          this.posts = response.data; // console.log(response.data);\n\n          window.location.reload();\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAiEA,OAAOA,MAAP,MAAmB,yBAAnB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;;AACA,MAAMC,KAAI,GAAIC,OAAO,CAAC,OAAD,CAArB;;AACA,eAAe;AACbC,MAAI,EAAE,WADO;AAEbC,YAAU,EAAE;AAAEL,UAAF;AAAUC;AAAV,GAFC;AAGbK,OAAK,EAAE,CACL,OADK,EAEL,aAFK,EAGL,QAHK,EAIL,SAJK,EAKL,YALK,EAML,UANK,EAOL,SAPK,EAQL,SARK,EASL,SATK,CAHM;;AAebC,MAAI,GAAG;AACL,WAAO;AACLC,WAAK,EAAE;AADF,KAAP;AAGD,GAnBY;;AAoBbC,SAAO,GAAG;AACRP,SAAI,CACDQ,GADH,CACO,iCADP,EAEGC,IAFH,CAESC,QAAD,IAAc;AAClB;AACA,WAAKJ,KAAL,GAAaI,QAAQ,CAACL,IAAtB;AACD,KALH,EAMGM,KANH,CAMUC,KAAD,IAAW;AAChBC,aAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KARH;AASD,GA9BY;;AA+BbG,SAAO,EAAE;AACPC,WAAO,GAAG;AACRhB,WAAK,CAACQ,GAAN,CAAU,kCAAV,EAA8CC,IAA9C,CAAoDC,QAAD,IAAc;AAC/DG,eAAO,CAACC,GAAR,CAAYJ,QAAZ;AACA,aAAKJ,KAAL,GAAaI,QAAQ,CAACL,IAAtB;AACD,OAHD;AAID,KANM;;AAOPY,cAAU,CAACC,IAAD,EAAO;AACfL,aAAO,CAACC,GAAR,CAAYI,IAAZ;;AACA,UAAIC,OAAO,CAAC,qBAAD,CAAX,EAAoC;AAClCnB,aAAI,CACDoB,MADH,CACU,qCAAqCF,IAAI,CAACG,EADpD,EACwD,EADxD,EAEGZ,IAFH,CAESC,QAAD,IAAc;AAClBG,iBAAO,CAACC,GAAR,CAAY,KAAKO,EAAjB;AACA,eAAKf,KAAL,GAAaI,QAAQ,CAACL,IAAtB,CAFkB,CAGlB;;AACAiB,gBAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,SAPH,EAQGb,KARH,CAQUC,KAAD,IAAW;AAChBC,iBAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,SAVH;AAWF;AACD;;AAtBM;AA/BI,CAAf","names":["NavBar","Footer","axios","require","name","components","props","data","posts","mounted","get","then","response","catch","error","console","log","methods","getPost","deletePost","post","confirm","delete","id","window","location","reload"],"sourceRoot":"","sources":["/home/fanny/Rendu2/C-COD-280-PAR-2-2-dashboard-vladimira.grosjean/Dashboard2/src/views/CrudAdmin/CrudPosts.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <!--v-if='login-admin' -->\n    <NavBar />\n  <h1 class=\"mt-5 mb-5\">Manage Posts</h1>\n    <div class=\"containercards\">\n        \n      <div class=\"card\" v-for=\"post in posts\" :key=\"post.id\">\n        <div class=\"card__header\"></div>\n        <div class=\"card__body\">\n          <router-link\n            style=\"text-decoration: none\"\n            :to=\"{ name: 'post', params: { id: post.id } }\"\n            ><h4>{{ post.title }}</h4>\n          </router-link>\n\n          <p>\n            {{ post.content}}\n            {{ post.category_id }}\n          </p>\n        </div>\n        <div class=\"card__footer\">\n          <div class=\"user\">\n            <small>{{ post.created_at.substr(0, 16) }}</small>\n            <div>\n              <router-link\n                :to=\"{ name: 'CrudDetailPost', params: { id: post.id } }\"\n                ><button\n                  href=\"#\"\n                  type=\"button\"\n                  id=\"crud\"\n                  class=\"btn btn-outline-dark\"\n                >\n                  Voir\n                </button></router-link\n              >\n              <router-link\n                :to=\"{ name: 'CrudUpdatePost', params: { id: post.id } }\"\n                ><button\n                  href=\"#\"\n                  type=\"button\"\n                  id=\"crud\"\n                  class=\"btn btn-outline-dark\"\n                >\n                  Modifier\n                </button></router-link\n              >\n              <button\n                v-on:click.prevent=\"deletePost(post)\"\n                href=\"#\"\n                type=\"button\"\n                id=\"crud\"\n                class=\"btn btn-outline-dark\"\n              >\n                Supprimer\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from \"@/components/NavBar.vue\";\nimport Footer from \"@/components/Footer.vue\";\nconst axios = require(\"axios\");\nexport default {\n  name: \"CrudPosts\",\n  components: { NavBar, Footer },\n  props: [\n    \"title\",\n    \"category_id\",\n    \"idPost\",\n    \"content\",\n    \"created_at\",\n    \"img_post\",\n    \"comment\",\n    \"user_id\",\n    \"post_id\",\n  ],\n\n  data() {\n    return {\n      posts: \"\",\n    };\n  },\n  mounted() {\n    axios\n      .get(\"http://localhost:8000/api/posts\")\n      .then((response) => {\n        // console.log(response.data);\n        this.posts = response.data;\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  },\n  methods: {\n    getPost() {\n      axios.get(\"http://localhost:8000/api/posts/\").then((response) => {\n        console.log(response);\n        this.posts = response.data;\n      });\n    },\n    deletePost(post) {\n      console.log(post);\n      if (confirm(\"Supprimer ce post ?\")) {\n        axios\n          .delete(\"http://localhost:8000/api/posts/\" + post.id, {})\n          .then((response) => {\n            console.log(this.id);\n            this.posts = response.data;\n            // console.log(response.data);\n            window.location.reload();\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import url(\"https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap\");\n\nbody {\n  font-family: \"Quicksand\", sans-serif;\n  display: grid;\n  place-items: center;\n  height: 100vh;\n  background: #7f7fd5;\n  background: linear-gradient(to right, #91eae4, #86a8e7, #7f7fd5);\n}\n\n.containercards {\n  margin: auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  max-width: 1200px;\n  margin-block: 2rem;\n  gap: 2rem;\n}\n\nimg {\n  max-width: 100%;\n  display: block;\n  object-fit: cover;\n}\n\n.card {\n  display: flex;\n  flex-direction: column;\n  width: clamp(20rem, calc(20rem + 2vw), 15rem);\n  overflow: hidden;\n  box-shadow: 0 0.1rem 1rem rgba(0, 0, 0, 0.1);\n  border-radius: 1em;\n  background: #ece9e6;\n  background: linear-gradient(to right, #ffffff, #ece9e6);\n}\n\n.card__body {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.tag {\n  align-self: flex-start;\n  padding: 0.25em 0.75em;\n  border-radius: 1em;\n  font-size: 0.75rem;\n}\n\n.tag + .tag {\n  margin-left: 0.5em;\n}\n\n.tag-blue {\n  background: #56ccf2;\n  background: linear-gradient(to bottom, #2f80ed, #56ccf2);\n  color: #fafafa;\n}\n\n.tag-brown {\n  background: #d1913c;\n  background: linear-gradient(to bottom, #ffd194, #d1913c);\n  color: #fafafa;\n}\n\n.tag-red {\n  background: #cb2d3e;\n  background: linear-gradient(to bottom, #ef473a, #cb2d3e);\n  color: #fafafa;\n}\n\n.card__body h4 {\n  font-size: 1.5rem;\n  text-transform: capitalize;\n}\n\n.card__footer {\n  display: flex;\n  padding: 1rem;\n  margin-top: auto;\n}\n\n.user {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.user__image {\n  border-radius: 50%;\n  height: 50px;\n}\n\n.user__info > small {\n  color: #666;\n}\n#crud {\n  margin-left: 5px;\n  margin-top: 5px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}