{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withCtx as _withCtx, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-377b1126\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"container\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"mt-5 mb-5\"\n}, \"Manage Posts\", -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"containercards\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card__header\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = {\n  class: \"card__body\"\n};\nconst _hoisted_6 = {\n  class: \"card__footer\"\n};\nconst _hoisted_7 = {\n  class: \"user\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  href: \"#\",\n  type: \"button\",\n  id: \"crud\",\n  class: \"btn btn-outline-dark\"\n}, \" Voir \", -1\n/* HOISTED */\n));\n\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  href: \"#\",\n  type: \"button\",\n  id: \"crud\",\n  class: \"btn btn-outline-dark\"\n}, \" Modifier \", -1\n/* HOISTED */\n));\n\nconst _hoisted_10 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBar = _resolveComponent(\"NavBar\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\"v-if='login-admin' \"), _createVNode(_component_NavBar), _hoisted_2, _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.posts, post => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"card\",\n      key: post.id\n    }, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_router_link, {\n      style: {\n        \"text-decoration\": \"none\"\n      },\n      to: {\n        name: 'post',\n        params: {\n          id: post.id\n        }\n      }\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"h4\", null, _toDisplayString(post.title), 1\n      /* TEXT */\n      )]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"to\"]), _createElementVNode(\"p\", null, _toDisplayString(post.content) + \" \" + _toDisplayString(post.category_id), 1\n    /* TEXT */\n    )]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"small\", null, _toDisplayString(post.created_at.substr(0, 16)), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", null, [_createVNode(_component_router_link, {\n      to: {\n        name: 'CrudDetailPost',\n        params: {\n          id: post.id\n        }\n      }\n    }, {\n      default: _withCtx(() => [_hoisted_8]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"to\"]), _createVNode(_component_router_link, {\n      to: {\n        name: 'CrudUpdatePost',\n        params: {\n          id: post.id\n        }\n      }\n    }, {\n      default: _withCtx(() => [_hoisted_9]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"to\"]), _createElementVNode(\"button\", {\n      onClick: _withModifiers($event => $options.deletePost(post), [\"prevent\"]),\n      href: \"#\",\n      type: \"button\",\n      id: \"crud\",\n      class: \"btn btn-outline-dark\"\n    }, \" Supprimer \", 8\n    /* PROPS */\n    , _hoisted_10)])])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","href","type","id","_createElementBlock","_createCommentVNode","_createVNode","_component_NavBar","_hoisted_2","_Fragment","_renderList","$data","post","key","_hoisted_4","_component_router_link","style","to","name","params","_toDisplayString","title","content","category_id","created_at","substr","_hoisted_8","_hoisted_9","onClick","$options","_hoisted_10"],"sourceRoot":"","sources":["/home/fanny/Rendu2/C-COD-280-PAR-2-2-dashboard-vladimira.grosjean/Dashboard2/src/views/CrudAdmin/CrudPosts.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <!--v-if='login-admin' -->\n    <NavBar />\n  <h1 class=\"mt-5 mb-5\">Manage Posts</h1>\n    <div class=\"containercards\">\n        \n      <div class=\"card\" v-for=\"post in posts\" :key=\"post.id\">\n        <div class=\"card__header\"></div>\n        <div class=\"card__body\">\n          <router-link\n            style=\"text-decoration: none\"\n            :to=\"{ name: 'post', params: { id: post.id } }\"\n            ><h4>{{ post.title }}</h4>\n          </router-link>\n\n          <p>\n            {{ post.content}}\n            {{ post.category_id }}\n          </p>\n        </div>\n        <div class=\"card__footer\">\n          <div class=\"user\">\n            <small>{{ post.created_at.substr(0, 16) }}</small>\n            <div>\n              <router-link\n                :to=\"{ name: 'CrudDetailPost', params: { id: post.id } }\"\n                ><button\n                  href=\"#\"\n                  type=\"button\"\n                  id=\"crud\"\n                  class=\"btn btn-outline-dark\"\n                >\n                  Voir\n                </button></router-link\n              >\n              <router-link\n                :to=\"{ name: 'CrudUpdatePost', params: { id: post.id } }\"\n                ><button\n                  href=\"#\"\n                  type=\"button\"\n                  id=\"crud\"\n                  class=\"btn btn-outline-dark\"\n                >\n                  Modifier\n                </button></router-link\n              >\n              <button\n                v-on:click.prevent=\"deletePost(post)\"\n                href=\"#\"\n                type=\"button\"\n                id=\"crud\"\n                class=\"btn btn-outline-dark\"\n              >\n                Supprimer\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from \"@/components/NavBar.vue\";\nimport Footer from \"@/components/Footer.vue\";\nconst axios = require(\"axios\");\nexport default {\n  name: \"CrudPosts\",\n  components: { NavBar, Footer },\n  props: [\n    \"title\",\n    \"category_id\",\n    \"idPost\",\n    \"content\",\n    \"created_at\",\n    \"img_post\",\n    \"comment\",\n    \"user_id\",\n    \"post_id\",\n  ],\n\n  data() {\n    return {\n      posts: \"\",\n    };\n  },\n  mounted() {\n    axios\n      .get(\"http://localhost:8000/api/posts\")\n      .then((response) => {\n        // console.log(response.data);\n        this.posts = response.data;\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  },\n  methods: {\n    getPost() {\n      axios.get(\"http://localhost:8000/api/posts/\").then((response) => {\n        console.log(response);\n        this.posts = response.data;\n      });\n    },\n    deletePost(post) {\n      console.log(post);\n      if (confirm(\"Supprimer ce post ?\")) {\n        axios\n          .delete(\"http://localhost:8000/api/posts/\" + post.id, {})\n          .then((response) => {\n            console.log(this.id);\n            this.posts = response.data;\n            // console.log(response.data);\n            window.location.reload();\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import url(\"https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap\");\n\nbody {\n  font-family: \"Quicksand\", sans-serif;\n  display: grid;\n  place-items: center;\n  height: 100vh;\n  background: #7f7fd5;\n  background: linear-gradient(to right, #91eae4, #86a8e7, #7f7fd5);\n}\n\n.containercards {\n  margin: auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  max-width: 1200px;\n  margin-block: 2rem;\n  gap: 2rem;\n}\n\nimg {\n  max-width: 100%;\n  display: block;\n  object-fit: cover;\n}\n\n.card {\n  display: flex;\n  flex-direction: column;\n  width: clamp(20rem, calc(20rem + 2vw), 15rem);\n  overflow: hidden;\n  box-shadow: 0 0.1rem 1rem rgba(0, 0, 0, 0.1);\n  border-radius: 1em;\n  background: #ece9e6;\n  background: linear-gradient(to right, #ffffff, #ece9e6);\n}\n\n.card__body {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.tag {\n  align-self: flex-start;\n  padding: 0.25em 0.75em;\n  border-radius: 1em;\n  font-size: 0.75rem;\n}\n\n.tag + .tag {\n  margin-left: 0.5em;\n}\n\n.tag-blue {\n  background: #56ccf2;\n  background: linear-gradient(to bottom, #2f80ed, #56ccf2);\n  color: #fafafa;\n}\n\n.tag-brown {\n  background: #d1913c;\n  background: linear-gradient(to bottom, #ffd194, #d1913c);\n  color: #fafafa;\n}\n\n.tag-red {\n  background: #cb2d3e;\n  background: linear-gradient(to bottom, #ef473a, #cb2d3e);\n  color: #fafafa;\n}\n\n.card__body h4 {\n  font-size: 1.5rem;\n  text-transform: capitalize;\n}\n\n.card__footer {\n  display: flex;\n  padding: 1rem;\n  margin-top: auto;\n}\n\n.user {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.user__image {\n  border-radius: 50%;\n  height: 50px;\n}\n\n.user__info > small {\n  color: #666;\n}\n#crud {\n  margin-left: 5px;\n  margin-top: 5px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}