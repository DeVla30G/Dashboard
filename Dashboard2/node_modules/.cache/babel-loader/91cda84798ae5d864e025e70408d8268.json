{"ast":null,"code":"const axios = require('axios');\n\nexport default {\n  name: 'NavBar',\n  component: {},\n  props: {},\n  data: () => {\n    return {\n      token: \"\",\n      user: {}\n    };\n  },\n\n  mounted() {\n    this.token = localStorage.getItem('myToken');\n    axios.get('http://localhost:8000/api/user', {\n      headers: {\n        'Authorization': `Bearer ${this.token}`\n      }\n    }).then(response => {\n      console.log(response.data);\n      this.user = response.data;\n    });\n  },\n\n  computed() {},\n\n  methods: {\n    logout() {\n      axios.get('http://localhost:8000/api/logout');\n      localStorage.removeItem('myToken');\n      this.$router.push('/login');\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkIA,MAAMA,KAAI,GAAIC,OAAO,CAAC,OAAD,CAArB;;AAGA,eAAe;AACbC,MAAI,EAAE,QADO;AAEbC,WAAS,EAAE,EAFE;AAGbC,OAAK,EAAE,EAHM;AAIbC,MAAI,EAAE,MAAM;AACV,WAAO;AACLC,WAAK,EAAE,EADF;AAELC,UAAI,EAAE;AAFD,KAAP;AAID,GATY;;AAUbC,SAAO,GAAE;AACP,SAAKF,KAAL,GAAaG,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAb;AACIV,SAAK,CAACW,GAAN,CAAU,gCAAV,EAA4C;AAC1CC,aAAO,EAAE;AACP,yBAAkB,UAAS,KAAKN,KAAM;AAD/B;AADiC,KAA5C,EAKCO,IALD,CAKOC,QAAD,IAAc;AACpBC,aAAO,CAACC,GAAR,CAAYF,QAAQ,CAACT,IAArB;AACA,WAAKE,IAAL,GAAYO,QAAQ,CAACT,IAArB;AACD,KARC;AASL,GArBY;;AAsBbY,UAAQ,GAAE,CAET,CAxBY;;AAyBbC,SAAO,EAAE;AACNC,UAAM,GAAE;AACNnB,WAAK,CAACW,GAAN,CAAU,kCAAV;AACAF,kBAAY,CAACW,UAAb,CAAwB,SAAxB;AACA,WAAKC,OAAL,CAAaC,IAAb,CAAkB,QAAlB;AACF;;AALM;AAzBI,CAAf","names":["axios","require","name","component","props","data","token","user","mounted","localStorage","getItem","get","headers","then","response","console","log","computed","methods","logout","removeItem","$router","push"],"sourceRoot":"","sources":["/home/fanny/Rendu2/C-COD-280-PAR-2-2-dashboard-vladimira.grosjean/Dashboard2/src/components/NavBar.vue"],"sourcesContent":["<template>\r\n    <!-- Navbar -->\r\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n  <!-- Container wrapper -->\r\n  <div class=\"container-fluid\">\r\n    <!-- Toggle button -->\r\n    <button\r\n      class=\"navbar-toggler\"\r\n      type=\"button\"\r\n      data-mdb-toggle=\"collapse\"\r\n      data-mdb-target=\"#navbarSupportedContent\"\r\n      aria-controls=\"navbarSupportedContent\"\r\n      aria-expanded=\"false\"\r\n      aria-label=\"Toggle navigation\"\r\n    >\r\n      <i class=\"fas fa-bars\"></i>\r\n    </button>\r\n\r\n    <!-- Collapsible wrapper -->\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n      <!-- Navbar brand -->\r\n      <router-link style=\"text-decoration: none;\" :to=\"'/'\"><a class=\"navbar-brand mt-2 mt-lg-0\" href=\"#\">\r\n        <img\r\n          src=\"https://github.com/sachabz/Yowl/raw/master/FrontYowl/src/assets/LogoYowl2.png\"\r\n          height=\"15\"\r\n          alt=\"MDB Logo\"\r\n          loading=\"lazy\"\r\n        />\r\n      </a></router-link>\r\n      \r\n      <!-- Left links -->\r\n      <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n        <li class=\"nav-item\">\r\n          <router-link style=\"text-decoration: none;\" :to=\"'/'\"><a  class=\"nav-link\" href=\"#\">Home</a></router-link>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          \r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"#\"></a>\r\n        </li>\r\n      </ul>\r\n      <!-- Left links -->\r\n    </div>\r\n    <!-- Collapsible wrapper -->\r\n\r\n    <!-- Right elements -->\r\n   <div class=\"d-flex align-items-center\">\r\n\r\n      <ul v-if=\"this.token == null\" class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n        <li class=\"nav-item\">         \r\n          <router-link style=\"text-decoration: none;\" :to=\"'/register'\"><a  class=\"nav-link\" href=\"#\">Register</a></router-link> \r\n        </li>\r\n        <li class=\"nav-item\">         \r\n          <router-link style=\"text-decoration: none;\" :to=\"'/login'\"><a  class=\"nav-link\" href=\"#\">Login</a></router-link> \r\n        </li>\r\n      </ul>\r\n\r\n      <!-- Notifications -->\r\n      <!-- <div class=\"dropdown\">\r\n        <a\r\n          class=\"text-reset me-3 dropdown-toggle hidden-arrow\"\r\n          href=\"#\"\r\n          id=\"navbarDropdownMenuLink\"\r\n          role=\"button\"\r\n          data-mdb-toggle=\"dropdown\"\r\n          aria-expanded=\"false\"\r\n        >\r\n          <i class=\"fas fa-bell\"></i>\r\n        </a>\r\n        <ul\r\n          class=\"dropdown-menu dropdown-menu-end\"\r\n          aria-labelledby=\"navbarDropdownMenuLink\"\r\n        >\r\n          <li>\r\n            <a class=\"dropdown-item\" href=\"#\">Some news</a>\r\n          </li>\r\n          <li>\r\n            <a class=\"dropdown-item\" href=\"#\">Another news</a>\r\n          </li>\r\n          <li>\r\n            <a class=\"dropdown-item\" href=\"#\">Something else here</a>\r\n          </li>\r\n        </ul>\r\n      </div> -->\r\n       <p v-if=\"this.token != null\" style=\"margin-top: 15px; padding-right: 5px;\">{{user.name}}</p> \r\n      <!-- Avatar -->\r\n      <div v-if=\"this.token != null\" class=\"dropdown\">\r\n        <a\r\n          class=\"dropdown-toggle d-flex align-items-center hidden-arrow\"\r\n          href=\"#\"\r\n          id=\"navbarDropdownMenuAvatar\"\r\n          role=\"button\"\r\n          data-mdb-toggle=\"dropdown\"\r\n          aria-expanded=\"false\"\r\n        >\r\n      \r\n          <img\r\n            :src=\"user.avatar\"\r\n            class=\"rounded-circle\"\r\n            height=\"25\"\r\n            alt=\"User Image\"\r\n            loading=\"lazy\"\r\n            style=\"border-radius: 60%; height: 30px; width: 30px;\"\r\n          />\r\n        </a>\r\n        <ul\r\n          class=\"dropdown-menu dropdown-menu-end\"\r\n          aria-labelledby=\"navbarDropdownMenuAvatar\"\r\n        >\r\n          <li>\r\n            <router-link style=\"text-decoration: none;\" :to=\"'/profil'\"><a  class=\"dropdown-item\" href=\"#\">Profil</a></router-link>        \r\n          </li>\r\n          <li v-if=\"user.is_admin == 1\">\r\n            <router-link style=\"text-decoration: none;\" :to=\"'/AccueilCrud'\"><a  class=\"dropdown-item\" href=\"#\">Admin</a></router-link>        \r\n          </li>\r\n          <li>\r\n            <a @click=\"logout\"  class=\"dropdown-item\" href=\"#\">Logout</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n   </div> \r\n    <!-- Right elements -->\r\n  </div>\r\n  <!-- Container wrapper -->\r\n</nav>\r\n<!-- Navbar -->\r\n</template>\r\n\r\n<script>\r\nconst axios = require('axios');\r\n\r\n\r\nexport default {\r\n  name: 'NavBar',\r\n  component: { },\r\n  props: {},\r\n  data: () => {\r\n    return { \r\n      token: \"\",\r\n      user: {}\r\n      };\r\n  },\r\n  mounted(){\r\n    this.token = localStorage.getItem('myToken');\r\n        axios.get('http://localhost:8000/api/user', {\r\n          headers: {\r\n            'Authorization': `Bearer ${this.token}` \r\n          }\r\n        })\r\n        .then((response) => {\r\n        console.log(response.data)\r\n        this.user = response.data\r\n      })\r\n  },\r\n  computed(){\r\n\r\n  },\r\n  methods: {\r\n     logout(){\r\n       axios.get('http://localhost:8000/api/logout');\r\n       localStorage.removeItem('myToken');\r\n       this.$router.push('/login');\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.nav-item .router-link {\r\n  text-decoration: none;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}