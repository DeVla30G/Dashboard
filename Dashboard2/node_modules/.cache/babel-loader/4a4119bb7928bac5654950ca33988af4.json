{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"container loginForm\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"ul\", {\n  class: \"nav nav-pills nav-justified mb-3\",\n  id: \"ex1\",\n  role: \"tablist\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  class: \"tab-content\"\n};\nconst _hoisted_5 = {\n  class: \"form-group mb-1\"\n};\nconst _hoisted_6 = {\n  class: \"form-group mb-1\"\n};\nconst _hoisted_7 = {\n  class: \"form-group mb-1\"\n};\nconst _hoisted_8 = {\n  class: \"form-group mb-1\"\n};\nconst _hoisted_9 = {\n  class: \"form-group mb-1\"\n};\nconst _hoisted_10 = {\n  class: \"form-group mb-2\"\n};\nconst _hoisted_11 = {\n  class: \"form-outline mb-4\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"label\", {\n  style: {\n    \"float\": \"left\",\n    \"font-weight\": \"bold\"\n  },\n  class: \"form-label\",\n  for: \"avatar\"\n}, \"Choose your Avatar\", -1\n/* HOISTED */\n);\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"form-check d-flex justify-content-center mb-4\"\n}, [/*#__PURE__*/_createElementVNode(\"input\", {\n  class: \"form-check-input me-2\",\n  type: \"checkbox\",\n  value: \"\",\n  id: \"registerCheck\",\n  checked: \"\",\n  \"aria-describedby\": \"registerCheckHelpText\"\n}), /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-check-label\",\n  for: \"registerCheck\"\n}, \" I have read and agree to the terms \")], -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBar = _resolveComponent(\"NavBar\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_NavBar), _createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Pills navs \"), _hoisted_3, _createCommentVNode(\" Pills navs \"), _createCommentVNode(\" Pills content \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"form\", null, [_createCommentVNode(\" Firstname input \"), _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.firstname = $event),\n    type: \"text\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Firstname\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.firstname]])]), _createCommentVNode(\" Lastname input \"), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.lastname = $event),\n    type: \"text\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Lastname\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.lastname]])]), _createCommentVNode(\" Username input \"), _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.username = $event),\n    type: \"text\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Username\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.username]])]), _createCommentVNode(\" Email input \"), _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.email = $event),\n    type: \"email\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Email\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.email]])]), _createCommentVNode(\" Password input \"), _createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.password = $event),\n    type: \"password\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Password\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.password]])]), _createCommentVNode(\" Repeat Password input \"), _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.password_confirmation = $event),\n    type: \"password\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Password\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.password_confirmation]])]), _createCommentVNode(\" Image Upload \"), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[6] || (_cache[6] = (...args) => _ctx.getImgPost && _ctx.getImgPost(...args)),\n    id: \"avatar\",\n    class: \"form-control border\"\n  }, null, 32\n  /* HYDRATE_EVENTS */\n  )]), _createCommentVNode(\" Checkbox \"), _hoisted_13, _createCommentVNode(\" Submit button \"), _createElementVNode(\"button\", {\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.signin && $options.signin(...args)),\n    type: \"submit\",\n    class: \"btn btn-primary btn-block mb-3\"\n  }, \"Sign in\")])])])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","id","role","style","for","type","value","checked","_createElementBlock","_createVNode","_component_NavBar","_createCommentVNode","_hoisted_3","_ctx","$event","placeholder","_hoisted_12","onChange","_hoisted_13","onClick","$options"],"sourceRoot":"","sources":["/home/fanny/Rendu2/C-COD-280-PAR-2-2-dashboard-vladimira.grosjean/Dashboard2/src/views/Register.vue"],"sourcesContent":["<template>\n\n<div class=\"container\">\n  <NavBar />\n  <div class=\"container loginForm\">\n  <!-- Pills navs -->\n<ul class=\"nav nav-pills nav-justified mb-3\" id=\"ex1\" role=\"tablist\">\n  \n</ul>\n<!-- Pills navs -->\n\n<!-- Pills content -->\n<div class=\"tab-content\">\n\n    <form>\n\n\n      <!-- Firstname input -->\n        <div class=\"form-group mb-1\">\n    <input v-model=\"firstname\" type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Firstname\">\n    </div>\n\n     <!-- Lastname input -->\n        <div class=\"form-group mb-1\">\n    <input v-model=\"lastname\" type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Lastname\">\n    </div>\n\n      <!-- Username input -->\n        <div class=\"form-group mb-1\">\n    <input v-model=\"username\" type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Username\">\n    </div>\n\n      <!-- Email input -->\n        <div class=\"form-group mb-1\">\n    <input v-model=\"email\" type=\"email\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Email\">\n    </div>\n\n      <!-- Password input -->\n        <div class=\"form-group mb-1\">\n    <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Password\">\n    </div>\n\n      <!-- Repeat Password input -->\n        <div class=\"form-group mb-2\">\n    <input v-model=\"password_confirmation\" type=\"password\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Password\">\n    </div>\n\n      <!-- Image Upload -->\n      <div class=\"form-outline mb-4\">\n        <label style=\"float: left; font-weight: bold;\" class=\"form-label\" for=\"avatar\">Choose your Avatar</label>\n        <input type=\"file\" v-on:change=\"getImgPost\" id=\"avatar\" class=\"form-control border\" />\n      </div>\n\n      <!-- Checkbox -->\n      <div class=\"form-check d-flex justify-content-center mb-4\">\n        <input\n          class=\"form-check-input me-2\"\n          type=\"checkbox\"\n          value=\"\"\n          id=\"registerCheck\"\n          checked\n          aria-describedby=\"registerCheckHelpText\"\n        />\n        <label class=\"form-check-label\" for=\"registerCheck\">\n          I have read and agree to the terms\n        </label>\n      </div>\n\n      <!-- Submit button -->\n      <button @click=\"signin\" type=\"submit\" class=\"btn btn-primary btn-block mb-3\">Sign in</button>\n    </form>\n\n</div>\n</div>\n  </div>\n</template>\n\n<script>\nimport NavBar from '../components/NavBar.vue';\nimport setAdmin from '../Services/auth_service.js';\nimport setUser from '../Services/auth_service.js';\n\n// @ is an alias to /src\nconst axios = require('axios');\nexport default {\n  name: \"Register\",\n  components: {NavBar},\n  data: () => {\n    return {\n      firstname: \"\",\n      lastname: \"\",\n      username:\"\",\n      email: \"\",\n      avatar:\"\",\n      password: \"\",\n      password_confirmation: \"\",\n    };\n  },\n  methods: {\n    async signin(event) {     \n      event.preventDefault();\n      const preview = document.querySelector('avatar');\n      console.log(preview)\n        const file = document.querySelector('input[type=file]').files[0];\n        const reader = new FileReader();\n        let avatarUser = '';\n        await reader.addEventListener(\"load\", async () => {\n          // on convertit l'image en une chaîne de caractères base64\n          avatarUser = reader.result;\n          console.log(avatarUser);\n       \n             axios.post(\"http://localhost:3000/users\", {\n                firstname: this.firstname,\n                lastname: this.lastname,\n                username:this.username,\n                email: this.email,\n                avatar: avatarUser,\n                password: this.password,\n                password_confirmation: this.password_confirmation\n            })          \n        \n        .then((response) => {\n           console.log(response)\n          // console.table([this.title,\n          // this.user_id,\n          // this.category_id,\n          // this.content,\n          // this.img_post])\n          // console.log(response.data);\n          \n          var result = response.data;\n          if (result != null) {\n            alert(\"User bien créé!\");\n            \n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        }, false);\n\n        if (file) {\n          await reader.readAsDataURL(file);\n          console.log(reader);\n          console.log(avatarUser);\n          localStorage.setItem('admin', '1');\n          localStorage.setItem('user', '0');\n          this.$router.push(\"/\");\n\n          \n    }\n        axios\n          .get(\"http://localhost:3000/users\", {})\n          .then((response) => {\n            console.log(response.data);\n          })\n          .catch((error) => {\n            alert(error);\n            console.log(error);\n          });\n          \n    },\n  },\n};\n</script>\n<style>\n.loginForm{\n  width: 50%;\n  margin-top: 150px;\n}\n</style>\n\nasync signin(event) {     \n      event.preventDefault();\n      const preview = document.querySelector('avatar');\n        const file = document.querySelector('input[type=file]').files[0];\n        const reader = new FileReader();\n        let avatarUser = '';\n        await reader.addEventListener(\"load\", async () => {\n          // on convertit l'image en une chaîne de caractères base64\n          avatarUser = reader.result;\n          console.log(avatarUser);\n          fetch(avatarUser)\n          .then(res => res.blob())\n          .then(blob => {\n            console.log(blob)\n             axios.post(\"http://localhost:8000/api/users\", {\n                name: this.name,\n                nickname:this.nickname,\n                email: this.email,\n                avatar: avatarUser,\n                password: this.password,\n                password_confirmation: this.password_confirmation\n            })          \n        })\n        .then((response) => {\n          // console.log('table')\n          // console.table([this.title,\n          // this.user_id,\n          // this.category_id,\n          // this.content,\n          // this.img_post])\n          // console.log(response.data);\n          var result = response.data;\n          if (result != null) {\n            alert(\"User bien créé!\");\n            location.reload();\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        }, false);\n\n        if (file) {\n          await reader.readAsDataURL(file);\n          console.log(reader);\n          console.log(avatarUser);\n          \n    }\n        axios\n          .get(\"http://localhost:8000/api/users\", {})\n          .then((response) => {\n            console.log(response.data);\n          })\n          .catch((error) => {\n            alert(error);\n            console.log(error);\n          });\n          \n    },\n  },\n};"]},"metadata":{},"sourceType":"module"}