{"ast":null,"code":"import NavBar from '../components/NavBar.vue';\nimport setAuth from '../Services/auth_service.js';\n\nconst axios = require('axios');\n\nexport default {\n  name: \"Login\",\n  components: {\n    NavBar\n  },\n  data: () => {\n    return {\n      email: \"\",\n      password: \"\",\n      user: \"\"\n    };\n  },\n\n  mounted() {},\n\n  methods: {\n    login(event) {\n      event.preventDefault();\n      axios.post('http://localhost:3000/login', {\n        email: this.login.email,\n        password: this.login.password\n      }).then(response => {\n        console.log(response.data.user);\n        console.log(response.data.access_token);\n        var token = response.data.access_token;\n        localStorage.setItem('myToken', token);\n        setAuth(token);\n        this.$router.push(\"/\");\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+DA,OAAOA,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,6BAApB;;AACA,MAAMC,KAAI,GAAIC,OAAO,CAAC,OAAD,CAArB;;AACA,eAAe;AACbC,MAAI,EAAE,OADO;AAEbC,YAAU,EAAE;AAAEL;AAAF,GAFC;AAGbM,MAAI,EAAE,MAAM;AACV,WAAO;AACLC,WAAK,EAAE,EADF;AAELC,cAAQ,EAAE,EAFL;AAGLC,UAAI,EAAE;AAHD,KAAP;AAKD,GATY;;AAUbC,SAAO,GAAG,CAET,CAZY;;AAabC,SAAO,EAAE;AACPC,SAAK,CAACC,KAAD,EAAO;AACVA,WAAK,CAACC,cAAN;AACAZ,WAAK,CAACa,IAAN,CAAW,6BAAX,EAA0C;AACxCR,aAAK,EAAE,KAAKK,KAAL,CAAWL,KADsB;AAExCC,gBAAQ,EAAE,KAAKI,KAAL,CAAWJ;AAFmB,OAA1C,EAICQ,IAJD,CAIOC,QAAD,IAAc;AAClBC,eAAO,CAACC,GAAR,CAAYF,QAAQ,CAACX,IAAT,CAAcG,IAA1B;AACAS,eAAO,CAACC,GAAR,CAAYF,QAAQ,CAACX,IAAT,CAAcc,YAA1B;AAEA,YAAIC,KAAI,GAAIJ,QAAQ,CAACX,IAAT,CAAcc,YAA1B;AACAE,oBAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCF,KAAhC;AAEApB,eAAO,CAACoB,KAAD,CAAP;AAEA,aAAKG,OAAL,CAAaC,IAAb,CAAkB,GAAlB;AACD,OAdD,EAeCC,KAfD,CAeQC,KAAD,IAAW;AAChBT,eAAO,CAACC,GAAR,CAAYQ,KAAZ;AACD,OAjBD;AAkBD;;AArBM;AAbI,CAAf","names":["NavBar","setAuth","axios","require","name","components","data","email","password","user","mounted","methods","login","event","preventDefault","post","then","response","console","log","access_token","token","localStorage","setItem","$router","push","catch","error"],"sourceRoot":"","sources":["/home/fanny/Rendu2/C-COD-280-PAR-2-2-dashboard-vladimira.grosjean/Dashboard2/src/views/Login.vue"],"sourcesContent":["<template>\n<div class=\"container\">\n  <NavBar />\n  <div class=\"container\">\n  <div class=\"container loginForm\">\n  <!-- Pills navs -->\n<ul class=\"nav nav-pills nav-justified mb-3\" id=\"ex1\" role=\"tablist\">\n\n\n</ul>\n<!-- Pills navs -->\n\n<!-- Pills content -->\n<div class=\"tab-content\">\n  <div class=\"tab-pane fade show active\" id=\"pills-login\" role=\"tabpanel\" aria-labelledby=\"tab-login\">\n    <form>\n\n      <!-- Email input -->\n\n\n      <div class=\"form-group\">\n    <input v-model=\"login.email\" type=\"email\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Email...\">\n    </div>\n\n       <div class=\"form-group\">\n      <input v-model=\"login.password\" type=\"password\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Password\">\n      </div>\n\n      <!-- 2 column grid layout -->\n      <div class=\"row mb-4\">\n        <div class=\"col-md-6 d-flex justify-content-center\">\n          <!-- Checkbox -->\n          <div class=\"form-check mb-3 mb-md-0\">\n            <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"loginCheck\" checked />\n            <label class=\"form-check-label\" for=\"loginCheck\"> Remember me </label>\n          </div>\n        </div>\n\n        <div class=\"col-md-6 d-flex justify-content-center\">\n          <!-- Simple link -->\n          <a href=\"#!\">Forgot password?</a>\n        </div>\n      </div>\n\n      <!-- Submit button -->\n      <button @click=\"login\" type=\"submit\" class=\"btn btn-primary btn-block mb-4\">Login</button>\n\n      <!-- Register buttons -->\n      <div class=\"text-center\">\n        <p>Not a member? <router-link :to=\"'/register'\">Register</router-link></p>\n      </div>\n    </form>\n  </div>\n</div>\n  </div>\n</div>\n</div>\n\n\n  \n</template>\n\n<script>\nimport NavBar from '../components/NavBar.vue';\nimport setAuth from '../Services/auth_service.js';\nconst axios = require('axios');\nexport default {\n  name: \"Login\",\n  components: { NavBar },\n  data: () => {\n    return {\n      email: \"\",\n      password: \"\",\n      user: \"\"\n    };\n  },\n  mounted() {\n\n  },\n  methods: {\n    login(event){\n      event.preventDefault()\n      axios.post('http://localhost:3000/login', {\n        email: this.login.email,\n        password: this.login.password,\n      })\n      .then((response) => {\n        console.log(response.data.user);\n        console.log(response.data.access_token);\n\n        var token = response.data.access_token;\n        localStorage.setItem('myToken', token);\n\n        setAuth(token);\n\n        this.$router.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n      });    \n    },\n  }\n};\n</script>"]},"metadata":{},"sourceType":"module"}