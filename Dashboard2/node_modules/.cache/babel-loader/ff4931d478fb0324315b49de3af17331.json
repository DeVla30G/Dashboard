{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"container loginForm\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"ul\", {\n  class: \"nav nav-pills nav-justified mb-3\",\n  id: \"ex1\",\n  role: \"tablist\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  class: \"tab-content\"\n};\nconst _hoisted_5 = {\n  class: \"form-group mb-1\"\n};\nconst _hoisted_6 = {\n  class: \"form-group mb-1\"\n};\nconst _hoisted_7 = {\n  class: \"form-group mb-1\"\n};\nconst _hoisted_8 = {\n  class: \"form-group mb-1\"\n};\nconst _hoisted_9 = {\n  class: \"form-group mb-1\"\n};\nconst _hoisted_10 = {\n  class: \"form-group mb-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBar = _resolveComponent(\"NavBar\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_NavBar), _createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Pills navs \"), _hoisted_3, _createCommentVNode(\" Pills navs \"), _createCommentVNode(\" Pills content \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"form\", null, [_createCommentVNode(\" Firstname input \"), _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.firstname = $event),\n    type: \"text\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Firstname\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.firstname]])]), _createCommentVNode(\" Lastname input \"), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.lastname = $event),\n    type: \"text\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Lastname\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.lastname]])]), _createCommentVNode(\" Username input \"), _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.username = $event),\n    type: \"text\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Username\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.username]])]), _createCommentVNode(\" Email input \"), _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.email = $event),\n    type: \"email\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Email\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.email]])]), _createCommentVNode(\" Password input \"), _createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.password = $event),\n    type: \"password\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Password\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.password]])]), _createCommentVNode(\" Repeat Password input \"), _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.password_confirmation = $event),\n    type: \"password\",\n    class: \"form-control\",\n    id: \"exampleFormControlInput1\",\n    placeholder: \"Password\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.password_confirmation]])]), _createCommentVNode(\" Submit button \"), _createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.signin && $options.signin(...args)),\n    type: \"submit\",\n    class: \"btn btn-primary btn-block mb-3\"\n  }, \"Sign in\")])])])]);\n}","map":{"version":3,"mappings":";;AAEKA,OAAK,EAAC;;;AAEJA,OAAK,EAAC;;;gCAEbC,oBAEK,IAFL,EAEK;AAFDD,OAAK,EAAC,kCAEL;AAFwCE,IAAE,EAAC,KAE3C;AAFiDC,MAAI,EAAC;AAEtD,CAFL;;AAAA;;;AAMKH,OAAK,EAAC;;;AAMEA,OAAK,EAAC;;;AAKNA,OAAK,EAAC;;;AAKNA,OAAK,EAAC;;;AAKNA,OAAK,EAAC;;;AAKNA,OAAK,EAAC;;;AAKNA,OAAK,EAAC;;;;;uBAzCnBI,oBAmDQ,KAnDR,cAmDQ,CAlDNC,aAAUC,iBAAV,CAkDM,EAjDNL,oBAgDI,KAhDJ,cAgDI,CA/CJM,mCA+CI,EA9CNC,UA8CM,EA3CND,mCA2CM,EAzCNA,sCAyCM,EAxCNN,oBAuCM,KAvCN,cAuCM,CArCFA,oBAmCO,MAnCP,EAmCO,IAnCP,EAmCO,CAhCLM,wCAgCK,EA/BHN,oBAEE,KAFF,cAEE,iBADNA,oBAAkH,OAAlH,EAAkH;+DAAlGQ,iBAASC,OAAyF;AAAvFC,QAAI,EAAC,MAAkF;AAA3EX,SAAK,EAAC,cAAqE;AAAtDE,MAAE,EAAC,0BAAmD;AAAxBU,eAAW,EAAC;AAAY,GAAlH;;AAAA,oBAAgBH,iBACV,CAFF,CA+BG,EA3BNF,uCA2BM,EA1BHN,oBAEE,KAFF,cAEE,iBADNA,oBAAgH,OAAhH,EAAgH;+DAAhGQ,gBAAQC,OAAwF;AAAtFC,QAAI,EAAC,MAAiF;AAA1EX,SAAK,EAAC,cAAoE;AAArDE,MAAE,EAAC,0BAAkD;AAAvBU,eAAW,EAAC;AAAW,GAAhH;;AAAA,oBAAgBH,gBACV,CAFF,CA0BG,EAtBLF,uCAsBK,EArBHN,oBAEE,KAFF,cAEE,iBADNA,oBAAgH,OAAhH,EAAgH;+DAAhGQ,gBAAQC,OAAwF;AAAtFC,QAAI,EAAC,MAAiF;AAA1EX,SAAK,EAAC,cAAoE;AAArDE,MAAE,EAAC,0BAAkD;AAAvBU,eAAW,EAAC;AAAW,GAAhH;;AAAA,oBAAgBH,gBACV,CAFF,CAqBG,EAjBLF,oCAiBK,EAhBHN,oBAEE,KAFF,cAEE,iBADNA,oBAA2G,OAA3G,EAA2G;+DAA3FQ,aAAKC,OAAsF;AAApFC,QAAI,EAAC,OAA+E;AAAvEX,SAAK,EAAC,cAAiE;AAAlDE,MAAE,EAAC,0BAA+C;AAApBU,eAAW,EAAC;AAAQ,GAA3G;;AAAA,oBAAgBH,aACV,CAFF,CAgBG,EAZLF,uCAYK,EAXHN,oBAEE,KAFF,cAEE,iBADNA,oBAAoH,OAApH,EAAoH;+DAApGQ,gBAAQC,OAA4F;AAA1FC,QAAI,EAAC,UAAqF;AAA1EX,SAAK,EAAC,cAAoE;AAArDE,MAAE,EAAC,0BAAkD;AAAvBU,eAAW,EAAC;AAAW,GAApH;;AAAA,oBAAgBH,gBACV,CAFF,CAWG,EAPLF,8CAOK,EANHN,oBAEE,KAFF,eAEE,iBADNA,oBAAiI,OAAjI,EAAiI;+DAAjHQ,6BAAqBC,OAA4F;AAA1FC,QAAI,EAAC,UAAqF;AAA1EX,SAAK,EAAC,cAAoE;AAArDE,MAAE,EAAC,0BAAkD;AAAvBU,eAAW,EAAC;AAAW,GAAjI;;AAAA,oBAAgBH,6BACV,CAFF,CAMG,EAFLF,sCAEK,EADLN,oBAA6F,QAA7F,EAA6F;AAApFY,WAAK,yCAAEC,2CAAF,CAA+E;AAArEH,QAAI,EAAC,QAAgE;AAAvDX,SAAK,EAAC;AAAiD,GAA7F,EAA6E,SAA7E,CACK,CAnCP,CAqCE,CAvCN,CAwCM,CAhDJ,CAiDM,CAnDR","names":["class","_createElementVNode","id","role","_createElementBlock","_createVNode","_component_NavBar","_createCommentVNode","_hoisted_3","_ctx","$event","type","placeholder","onClick","$options"],"sourceRoot":"","sources":["/home/fanny/Rendu2/C-COD-280-PAR-2-2-dashboard-vladimira.grosjean/Dashboard2/src/views/Register.vue"],"sourcesContent":["<template>\n\n<div class=\"container\">\n  <NavBar />\n  <div class=\"container loginForm\">\n  <!-- Pills navs -->\n<ul class=\"nav nav-pills nav-justified mb-3\" id=\"ex1\" role=\"tablist\">\n  \n</ul>\n<!-- Pills navs -->\n\n<!-- Pills content -->\n<div class=\"tab-content\">\n\n    <form>\n\n\n      <!-- Firstname input -->\n        <div class=\"form-group mb-1\">\n    <input v-model=\"firstname\" type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Firstname\">\n    </div>\n\n     <!-- Lastname input -->\n        <div class=\"form-group mb-1\">\n    <input v-model=\"lastname\" type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Lastname\">\n    </div>\n\n      <!-- Username input -->\n        <div class=\"form-group mb-1\">\n    <input v-model=\"username\" type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Username\">\n    </div>\n\n      <!-- Email input -->\n        <div class=\"form-group mb-1\">\n    <input v-model=\"email\" type=\"email\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Email\">\n    </div>\n\n      <!-- Password input -->\n        <div class=\"form-group mb-1\">\n    <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Password\">\n    </div>\n\n      <!-- Repeat Password input -->\n        <div class=\"form-group mb-2\">\n    <input v-model=\"password_confirmation\" type=\"password\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Password\">\n    </div>\n\n      <!-- Submit button -->\n      <button @click=\"signin\" type=\"submit\" class=\"btn btn-primary btn-block mb-3\">Sign in</button>\n    </form>\n\n</div>\n</div>\n  </div>\n</template>\n\n<script>\nimport NavBar from '../components/NavBar.vue';\nimport setAdmin from '../Services/auth_service.js';\nimport setUser from '../Services/auth_service.js';\n\n// @ is an alias to /src\nconst axios = require('axios');\nexport default {\n  name: \"Register\",\n  components: {NavBar},\n  data: () => {\n    return {\n      firstname: \"\",\n      lastname: \"\",\n      username:\"\",\n      email: \"\",\n      password: \"\",\n      password_confirmation: \"\",\n    };\n  },\n  methods: {\n    async signin(event) {     \n      event.preventDefault();\n        //const file = document.querySelector('input[type=file]').files[0];\n        //const reader = new FileReader();\n        //let avatarUser = '';\n        await reader.addEventListener(\"load\", async () => {\n          // on convertit l'image en une chaîne de caractères base64\n          //avatarUser = reader.result;\n          //console.log(avatarUser);\n       \n             axios.post(\"http://localhost:3000/users\", {\n                firstname: this.firstname,\n                lastname: this.lastname,\n                username:this.username,\n                email: this.email,\n                //avatar: avatarUser,\n                password: this.password,\n                password_confirmation: this.password_confirmation\n            })          \n        \n        .then((response) => {\n           console.log(response)\n          // console.table([this.title,\n          // this.user_id,\n          // this.category_id,\n          // this.content,\n          // this.img_post])\n          // console.log(response.data);\n          \n          var result = response.data;\n          if (result != null) {\n            alert(\"User bien créé!\");\n            \n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        }, false);\n\n        /*axios\n          .get(\"http://localhost:3000/users\", {})\n          .then((response) => {\n            console.log(response.data);\n          })\n          .catch((error) => {\n            alert(error);\n            console.log(error);\n          });*/\n          \n    },\n  },\n};\n</script>\n<style>\n.loginForm{\n  width: 50%;\n  margin-top: 150px;\n}\n</style>\n\nasync signin(event) {     \n      event.preventDefault();\n      const preview = document.querySelector('avatar');\n        const file = document.querySelector('input[type=file]').files[0];\n        const reader = new FileReader();\n        let avatarUser = '';\n        await reader.addEventListener(\"load\", async () => {\n          // on convertit l'image en une chaîne de caractères base64\n          avatarUser = reader.result;\n          console.log(avatarUser);\n          fetch(avatarUser)\n          .then(res => res.blob())\n          .then(blob => {\n            console.log(blob)\n             axios.post(\"http://localhost:8000/api/users\", {\n                name: this.name,\n                nickname:this.nickname,\n                email: this.email,\n                avatar: avatarUser,\n                password: this.password,\n                password_confirmation: this.password_confirmation\n            })          \n        })\n        .then((response) => {\n          // console.log('table')\n          // console.table([this.title,\n          // this.user_id,\n          // this.category_id,\n          // this.content,\n          // this.img_post])\n          // console.log(response.data);\n          var result = response.data;\n          if (result != null) {\n            alert(\"User bien créé!\");\n            location.reload();\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        }, false);\n\n        if (file) {\n          await reader.readAsDataURL(file);\n          console.log(reader);\n          console.log(avatarUser);\n          \n    }\n        axios\n          .get(\"http://localhost:8000/api/users\", {})\n          .then((response) => {\n            console.log(response.data);\n          })\n          .catch((error) => {\n            alert(error);\n            console.log(error);\n          });\n          \n    },\n  },\n};"]},"metadata":{},"sourceType":"module"}